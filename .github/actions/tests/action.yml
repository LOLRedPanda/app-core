name: Test
description: Run Tests

inputs:
  workingDirectory:
    required: true
    description: "The Directory of the application to test"

runs:
  using: composite
  steps:

  - name: NPM Install
    shell: bash
    run : |
      cd api
      npm install
    working-directory: ${{ inputs.workingDirectory }}

# TODO
  # - name: Lint
  #   shell: bash
  #   run: yarn run lint
  #   working-directory: ${{ inputs.workingDirectory }}

  - name: Unit Test
    shell: bash
    run: |
      cd api
      npm test
    working-directory: ${{ inputs.workingDirectory }}